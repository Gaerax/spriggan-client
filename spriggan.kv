#:include gui/gamespage.kv
#:include gui/publishpage.kv
#:include gui/mintingpage.kv
#:include gui/storepage.kv
#:include gui/wallet.kv

#:import util util


<MainView>:

	SideBar:
		size_hint: .2, 1
		pos_hint: {'x': 0, 'y': 0}

	AnchorLayout:
		anchor_x: 'right'
		anchor_y: 'top'
		Wallet:
			max_size: None, 30
			height: 30
			width: 500
			size_hint: None, None

	AnchorLayout:
		anchor_x: 'left'
		anchor_y: 'bottom'
		Button:
			id: settingsbutton
			on_release: root.open_settings()
			height: 46
			width: 46
			size_hint: None, None
			Image:
				height: 46
				width: 46
				source: 'img/SettingsIcon.png'
				center_x: self.parent.center_x
				center_y: self.parent.center_y


<SideBar>:
	canvas.before:
		Color:
			rgba: util.COLOR_BG_MAIN
		Rectangle:
			pos: self.pos
			size: self.size
	Image:
		size_hint: 1, .2
		pos_hint: {'x': 0, 'top': 1}
		source: 'img/Spriggan.png'

	TabbedPanel:
		size_hint: 1, .8
		pos_hint: {'x': 0, 'top': .8}
		do_default_tab: False
		TabbedPanelItem:
			background_color: util.COLOR_THEME_LIGHT
			color: util.COLOR_THEME_MAIN
			text: 'My Games'
			FloatLayout:
				# LibraryView:
				# 	size_hint: 1, 1
				# 	pos_hint: {'x': 0, 'y': 0}

<ContentViewNormal>:
	do_default_tab: False
	canvas.before:
		Color:
			rgba: util.COLOR_BG_DARK
		Rectangle:
			pos: self.pos
			size: self.size
	TabbedPanelItem:
		background_color: util.COLOR_THEME_LIGHT
		color: util.COLOR_THEME_MAIN
		text: 'Games'
		GamesPage:

<ContentViewPublisher>:
	do_default_tab: False
	canvas.before:
		Color:
			rgba: util.COLOR_BG_DARK
		Rectangle:
			pos: self.pos
			size: self.size
	TabbedPanelItem:
		background_color: util.COLOR_THEME_LIGHT
		color: util.COLOR_THEME_MAIN
		text: 'Games'
		GamesPage:

	TabbedPanelItem:
		background_color: util.COLOR_THEME_LIGHT
		color: util.COLOR_THEME_MAIN
		text: 'Publishing'
		PublishPage:

	TabbedPanelItem:
		background_color: util.COLOR_THEME_LIGHT
		color: util.COLOR_THEME_MAIN
		text: 'Minting'
		MintingPage:


<ConfirmPopup>:
	FloatLayout:
		BoxLayout:
			id: layout
			size_hint: 1, .95
			pos_hint:{'x': 0, 'y': .05}
		BoxLayout:
			size_hint: .2, .05
			pos_hint:{'x': .8, 'y': 0}
			Button:
				text: 'Cancel'
				on_release: root.cancel()
			Button:
				text: 'Ok'
				on_release: root.ok()
