#:import util util

<MintingPage>:
	canvas.before:
		Color:
			rgba: util.COLOR_BG_DARK
		Rectangle:
			pos: self.pos
			size: self.size
	FloatLayout:
		id: search
		size_hint: 1, .05
		pos_hint: {'x': 0, 'top': 1}
		Button:
			background_color: util.COLOR_THEME_DARK
			color: util.COLOR_THEME_LIGHT
			id: resetbtn
			size_hint: .05, None
			height: 30
			pos_hint: {'right': 1, 'top': .9}
			on_release: root.reset()
			Image:
				id: resetbtnimg
				center_x: self.parent.center_x
				center_y: self.parent.center_y
				height: 32
				width: 32
				size_hint: None, None

	ContentScrollView:
		id: contentview
		size_hint: 1, .9
		pos_hint: {'x': 0, 'y': 0}


<ContentScrollView>:
	do_scroll_x: False
	do_scroll_y: True


<ContentList>:
	cols: 3
	size_hint: 1, None
	padding: 20
	spacing: 30


<GameMintingPanel>:
	canvas.before:
		Color:
			rgba: util.COLOR_BG_MAIN
		Rectangle:
			pos: self.pos
			size: self.size

	size: 1024, 512
	spacing: 10

	BoxLayout:
		size_hint: 1, .2
		id: productview
		Label:
			id: productname
			color: util.COLOR_THEME_LIGHT
			text: 'Product:'
			font_size: 30

	BoxLayout:
		orientation: 'vertical'
		id: layout
		spacing: 3
		BoxLayout:
			size_hint: 1, .02
			Label:
				color: util.COLOR_THEME_LIGHT
				text: 'Publisher DID'
				size_hint: .2, 1
			TextInput:
				background_color: util.COLOR_BG_LIGHT
				foreground_color: util.COLOR_THEME_MAIN
				disabled_foreground_color: util.COLOR_THEME_LIGHT
				cursor_color: util.COLOR_THEME_MAIN
				id: did
				size_hint: .8, 1
				text_hint: ''
		BoxLayout:
			size_hint: 1, .02
			Label:
				color: util.COLOR_THEME_LIGHT
				text: 'Image URI'
				size_hint: .2, 1
			TextInput:
				background_color: util.COLOR_BG_LIGHT
				foreground_color: util.COLOR_THEME_MAIN
				disabled_foreground_color: util.COLOR_THEME_LIGHT
				cursor_color: util.COLOR_THEME_MAIN
				id: data_uri
				size_hint: .8, 1
				text_hint: ''
		BoxLayout:
			size_hint: 1, .02
			Label:
				color: util.COLOR_THEME_LIGHT
				text: 'Metadata URI'
				size_hint: .2, 1
			TextInput:
				background_color: util.COLOR_BG_LIGHT
				foreground_color: util.COLOR_THEME_MAIN
				disabled_foreground_color: util.COLOR_THEME_LIGHT
				cursor_color: util.COLOR_THEME_MAIN
				id: metadata_uri
				size_hint: .8, 1
				text_hint: ''
		BoxLayout:
			size_hint: 1, .02
			Label:
				color: util.COLOR_THEME_LIGHT
				text: 'License URI'
				size_hint: .2, 1
			TextInput:
				background_color: util.COLOR_BG_LIGHT
				foreground_color: util.COLOR_THEME_MAIN
				disabled_foreground_color: util.COLOR_THEME_LIGHT
				cursor_color: util.COLOR_THEME_MAIN
				id: license_uri
				size_hint: .8, 1
				text_hint: ''
		BoxLayout:
			size_hint: 1, .02
			Label:
				color: util.COLOR_THEME_LIGHT
				text: 'Fee'
				size_hint: .2, 1
			TextInput:
				background_color: util.COLOR_BG_LIGHT
				foreground_color: util.COLOR_THEME_MAIN
				disabled_foreground_color: util.COLOR_THEME_LIGHT
				cursor_color: util.COLOR_THEME_MAIN
				id: fee_amount
				size_hint: .8, 1
				text_hint: ''
		BoxLayout:
			size_hint: 1, .02
			Label:
				color: util.COLOR_THEME_LIGHT
				text: 'Royalty %'
				size_hint: .2, 1
			TextInput:
				background_color: util.COLOR_BG_LIGHT
				foreground_color: util.COLOR_THEME_MAIN
				disabled_foreground_color: util.COLOR_THEME_LIGHT
				cursor_color: util.COLOR_THEME_MAIN
				id: royalty_percentage
				size_hint: .8, 1
				text_hint: '60'
		BoxLayout:
			size_hint: 1, .02
			Label:
				color: util.COLOR_THEME_LIGHT
				text: 'Royalty Address'
				size_hint: .2, 1
			TextInput:
				background_color: util.COLOR_BG_LIGHT
				foreground_color: util.COLOR_THEME_MAIN
				disabled_foreground_color: util.COLOR_THEME_LIGHT
				cursor_color: util.COLOR_THEME_MAIN
				id: royalty_address
				size_hint: .8, 1
				text_hint: ''
		BoxLayout:
			size_hint: 1, .02
			Label:
				color: util.COLOR_THEME_LIGHT
				text: 'Quantity'
				size_hint: .2, 1
			TextInput:
				background_color: util.COLOR_BG_LIGHT
				foreground_color: util.COLOR_THEME_MAIN
				disabled_foreground_color: util.COLOR_THEME_LIGHT
				cursor_color: util.COLOR_THEME_MAIN
				id: mint_quantity
				size_hint: .8, 1
				text_hint: '100'
		BoxLayout:
			size_hint: 1, .02
			Label:
				color: util.COLOR_THEME_LIGHT
				text: 'Sale Price'
				size_hint: .2, 1
			TextInput:
				background_color: util.COLOR_BG_LIGHT
				foreground_color: util.COLOR_THEME_MAIN
				disabled_foreground_color: util.COLOR_THEME_LIGHT
				cursor_color: util.COLOR_THEME_MAIN
				id: sell_amount
				size_hint: .8, 1
				text_hint: '100'


		BoxLayout:
			size_hint: 1, .02
			Button:
				background_color: util.COLOR_THEME_DARK
				color: util.COLOR_THEME_LIGHT
				id: previewbutton
				text: "Mint"
				on_release: root.start_minting()
			Button:
				background_color: util.COLOR_THEME_DARK
				color: util.COLOR_THEME_LIGHT
				id: revertbutton
				text: "Generate Metadata Template"
				on_release: root.generate_metadata_template()


<MintingPopup>:
	size_hint: .5, .5
	BoxLayout:
		orientation: 'vertical'
		Label:
			color: util.COLOR_THEME_LIGHT
			text: 'Minting x copies of x in chunks of 25 per block with a fee of x XCH'
			id: mintingmessage
			halign: 'center'
			size_hint: 1, .1
		Label:
			color: util.COLOR_THEME_LIGHT
			text: 'Minting will continue in the background until it is complete.\nDo not start another mint until minting is complete.\nClose Spriggan to cancel.'
			id: mintingmessage2
			halign: 'center'
			size_hint: 1, .1
		Label:
			color: util.COLOR_THEME_LIGHT
			text: ''
			size_hint: 1, .2
		Button:
			background_color: util.COLOR_THEME_DARK
			color: util.COLOR_THEME_LIGHT
			id: hidemintingbutton
			text: "Close"
			size_hint: 1, .1
			on_release: root.close_minting_popup()
		# Button:
		# 	background_color: util.COLOR_THEME_DARK
		# 	color: util.COLOR_THEME_LIGHT
		# 	id: hidemintingbutton
		# 	text: "Stop Minting"
		# 	on_release: root.stop_minting()
