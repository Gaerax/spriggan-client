#:import util util

<GamesPage>:
	canvas.before:
		Color:
			rgba: util.COLOR_BG_DARK
		Rectangle:
			pos: self.pos
			size: self.size
	FloatLayout:
		id: search
		size_hint: 1, .05
		pos_hint: {'x': 0, 'top': 1}
		TextInput:
			background_color: util.COLOR_BG_LIGHT
			foreground_color: util.COLOR_THEME_MAIN
			cursor_color: util.COLOR_THEME_MAIN
			id: search
			size_hint: .2, None
			height: 30
			pos_hint: {'x': 0, 'top': .9}
			hint_text: 'Search'
			halign: 'right'
		BoxLayout:
			orientation: 'horizontal'
			size_hint: .6, None
			pos_hint: {'x': .2, 'top': .9}
			height: 30
			ToggleButton:
				background_color: util.COLOR_THEME_DARK
				color: util.COLOR_THEME_LIGHT
				text: 'Name'
				group: 'sortby'
				state: 'down'
			ToggleButton:
				background_color: util.COLOR_THEME_DARK
				color: util.COLOR_THEME_LIGHT
				text: 'Most Played'
				group: 'sortby'
			ToggleButton:
				background_color: util.COLOR_THEME_DARK
				color: util.COLOR_THEME_LIGHT
				text: 'New'
				group: 'sortby'
		# Button:
		# 	background_color: util.COLOR_THEME_DARK
		# 	color: util.COLOR_THEME_LIGHT
		# 	id: filter
		# 	text: 'Filter'
		# 	size_hint: .1, None
		# 	height: 30
		# 	pos_hint: {'x': .85, 'top': .9}
		Button:
			background_color: util.COLOR_THEME_DARK
			color: util.COLOR_THEME_LIGHT
			id: filter
			size_hint: .05, None
			height: 30
			pos_hint: {'right': 1, 'top': .9}
			on_release: root.reset()
			Image:
				id: resetbtnimg
				center_x: self.parent.center_x
				center_y: self.parent.center_y
				height: 32
				width: 32
				size_hint: None, None

	ContentScrollView:
		id: contentview
		size_hint: 1, .95
		pos_hint: {'x': 0, 'y': 0}


<GameCapsule>:
	canvas.before:
		Color:
			rgba: util.COLOR_BG_MAIN
		Rectangle:
			pos: self.pos
			size: self.size

	size: 350, 350
	size_hint_max: 350, 350

	FloatLayout:
		AsyncImage:
			size_hint: 1, .9
			pos_hint: {'x': 0, 'y': .1}
			id:capsuleimage
			source: 'img/DefaultCapsule.jpg'
		BoxLayout:
			size_hint: 0.4, .1
			pos_hint: {'x': .6, 'y': .9}
			Label:
				color: util.COLOR_THEME_DARK
				id: status
				text: 'In Development'
				size_hint: 0.8, 1
				canvas.before:
					Color:
						rgba: root.color_dev_status
					Rectangle:
						pos: self.pos
						size: self.size
			Label:
				color: util.COLOR_THEME_DARK
				id: version
				text: 'V 0.1'
				size_hint: .2, 1
				canvas.before:
					Color:
						rgba: util.COLOR_VERSION
					Rectangle:
						pos: self.pos
						size: self.size
		BoxLayout:
			size_hint: 0.2, .1
			pos_hint: {'x': 0, 'y': .9}
			Label:
				color: util.COLOR_THEME_DARK
				id: copies
				text: '1 copy'
				size_hint: .2, 1
				canvas.before:
					Color:
						rgba: util.COLOR_VERSION
					Rectangle:
						pos: self.pos
						size: self.size
		BoxLayout:
			size_hint: 1, .1
			pos_hint: {'x': 0, 'y': 0}
			orientation: 'vertical'
			canvas.before:
				Color:
					rgba: util.COLOR_BG_DARK
				Rectangle:
					pos: self.pos
					size: self.size
			BoxLayout:
				orientation: 'horizontal'
				size_hint: 1, 1
				Label:
					color: util.COLOR_THEME_LIGHT
					size_hint: .7, .75
					id: title
					text: 'Game 1'
				Button:
					background_color: util.COLOR_BG_LIGHT
					color: util.COLOR_THEME_LIGHT
					size_hint: .125, 1
					id: downloadbtn
					on_release: root.activate_download()
					Image:
						id: downloadbtnimg
						center_x: self.parent.center_x
						center_y: self.parent.center_y
						height: 32
						width: 32
						size_hint: None, None
				Button:
					background_color: util.COLOR_BG_LIGHT
					color: util.COLOR_THEME_LIGHT
					size_hint: .125, 1
					id: playbtn
					on_release: root.activate_play()
					Image:
						id: playbtnimg
						center_x: self.parent.center_x
						center_y: self.parent.center_y
						height: 32
						width: 32
						size_hint: None, None

			ProgressBar:
				id: progress
				max: 1
				size_hint: 1, .01
